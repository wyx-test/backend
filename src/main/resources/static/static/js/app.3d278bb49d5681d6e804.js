webpackJsonp([2],{"5W1q":function(e,t){},A5O7:function(e,t){},AaQp:function(e,t){},AarT:function(e,t){},BWel:function(e,t){},BfYQ:function(e,t){},M0zV:function(e,t){},MoY6:function(e,t){},N0sP:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),o=a("mtWM"),n=a.n(o),i=a("Rf8U"),l=a.n(i),r=a("zL8q"),c=a.n(r),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var d=a("VU/8")({name:"app"},u,!1,function(e){a("BWel")},null,null).exports,p=a("/ocq"),f={data:function(){return{smdl:!0,loginForm:{username:"",password:"",language:"en"},language:"",langData:[{label:"中文",value:"cn"},{label:"English",value:"en"}],rules:{username:[{required:!0,message:"Please input user name.",trigger:"blur"},{min:4,max:10,message:"length between 4 and 10 characters.",trigger:"blur"}],password:[{required:!0,message:"Please input password.",trigger:"blur"},{min:4,max:16,message:"length between 4 and 16 characters.",trigger:"blur"}]}}},methods:{langChange:function(e){this.$i18n.locale=e,localStorage.setItem("lang",e)},submitForm:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return!1;var a=e;a.$store.dispatch("setToken",a.loginForm.username).then(function(){a.$router.push({path:"/index"})}).catch(function(e){a.$message({showClose:!0,message:e,type:"error"})})})},message:function(){var e=this.$createElement;this.$notify({title:"账号密码",message:e("i",{style:"color: teal"},"账号密码暂时可以随意填写"),duration:3e3})}},mounted:function(){this.message()},created:function(){this.langChange(this.loginForm.language)}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"loginConbox"},[a("div",{staticClass:"header"}),e._v(" "),a("div",{staticClass:"loginBox"},[a("div",{staticClass:"loginCon"},[a("p",{staticClass:"title"},[e._v(e._s(e.$t("login.disasterRecovery")))]),e._v(" "),a("p",{staticClass:"title"},[e._v(e._s(e.$t("login.frontEnd"))+": vue + element-ui")]),e._v(" "),a("p",{staticClass:"title"},[e._v(e._s(e.$t("login.backEnd"))+": Springboot")]),e._v(" "),e.smdl?a("el-card",{staticClass:"login-module",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix formTitlt",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.$t("login.signIn")))]),e._v(" "),a("span",{staticClass:"titIconbox"},[a("i",{staticClass:"iconfont xu-saomadenglu2 fa-lg iconcolor"}),e._v(" "),a("i",{staticClass:"iconfont xu-saomadenglu01 el-icon--right fa-lg pointer",on:{click:function(t){e.smdl=!e.smdl}}})])]),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,rules:e.rules,"status-icon":"","label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"Please input user name."},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"please input password","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},on:{chang:e.langChange},model:{value:e.loginForm.language,callback:function(t){e.$set(e.loginForm,"language",t)},expression:"loginForm.language"}},e._l(e.langData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("login.signIn")))])],1),e._v(" "),a("p",{staticClass:"smalltxt"},[a("span",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.$t("login.forgotPassword")))])])],1)],1):e._e()],1)])])])},staticRenderFns:[]};var h=a("VU/8")(f,m,!1,function(e){a("w5po")},null,null).exports,v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-aside",{attrs:{id:"asideNav"}},[a("div",{staticClass:"logo-name"},[e.$store.getters.logoShow?a("p",[e._v("DR")]):a("p",[e._v("Disaster Recovery")])]),e._v(" "),a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"/index",collapse:e.$store.getters.isCollapse,"background-color":"#03152A","text-color":"rgba(255,255,255,0.7)","active-text-color":"#ffffff",router:e.$store.getters.uniquerouter,"collapse-transition":!0}},[a("el-menu-item",{attrs:{index:"/index"}},[a("i",{staticClass:"el-icon-s-home"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("menu.home")))])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{index:"/markdown"}},[a("i",{staticClass:"el-icon-s-home"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("markdown")])]),e._v(" "),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",[e._v(e._s(e.$t("menu.baseConfig")))])]),e._v(" "),a("el-menu-item",{attrs:{index:"/project"}},[a("i",{staticClass:"el-icon-menu"}),e._v("\n          "+e._s(e.$t("menu.projectConfig"))+"\n        ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/server"}},[a("i",{staticClass:"el-icon-monitor"}),e._v("\n          "+e._s(e.$t("menu.hostConfig"))+"\n        ")]),e._v(" "),a("el-menu-item",{attrs:{index:"/file"}},[a("i",{staticClass:"el-icon-document"}),e._v("\n          "+e._s(e.$t("menu.fileConfig"))+"\n        ")])],2),e._v(" "),a("el-menu-item",{attrs:{index:"/compare"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("menu.fileCompare")))])]),e._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{index:"/test"}},[a("i",{staticClass:"el-icon-document"}),e._v("\n        test\n      ")])],1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")({name:"asideNav",data:function(){return{isCollapse:!1}},components:{},watch:{"$route.path":function(e){this.selectmenu(e)}},methods:{selectmenu:function(e){this.$store.dispatch("addTab",{title:e,path:e})}}},v,!1,function(e){a("bjAV")},"data-v-7a64b921",null).exports,b=a("lbHh"),_=a.n(b),w={name:"langSelect",data:function(){return{language:""}},mounted:function(){var e=localStorage.lang||"cn";this.getLanguage(e)},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,localStorage.setItem("lang",e),this.getLanguage(e)},getLanguage:function(e){"cn"===e&&(this.language="中文"),"en"===e&&(this.language="English")}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{staticClass:"international",on:{command:e.handleSetLanguage}},[a("div",[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"fa fa-language fa-lg"}),e._v(" "+e._s(e.language)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"cn"}},[e._v("中文")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"en"}},[e._v("English")])],1)],1)},staticRenderFns:[]};var x=a("VU/8")(w,y,!1,function(e){a("A5O7"),a("BfYQ")},"data-v-376a14ca",null).exports,C={name:"tabNav",data:function(){return{rightMenuShow:!1,left:0,top:0}},methods:{openMenu:function(e,t,a){if(0===a)return!1;this.rightMenuShow=!0,this.left=t.clientX+10,this.top=t.clientY,this.$store.dispatch("openMenu",e)},removeTab:function(e){this.$store.dispatch("removeTab",{tabItem:e,fullPath:this.$route.fullPath,router:this.$router})},removeOtherTab:function(e){this.$store.dispatch("removeOtherTab",{tabItem:e,router:this.$router})},removeAllTab:function(){this.$store.dispatch("removeOtherTab",{all:!0,router:this.$router})}},watch:{rightMenuShow:function(e){var t=this;e?document.body.addEventListener("click",function(){t.rightMenuShow=!1}):document.body.removeEventListener("click",function(){t.rightMenuShow=!1})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tabnavBox"},[a("transition-group",{attrs:{name:"list",tag:"ul"}},e._l(e.$store.getters.tabnavBox,function(t,s){return a("li",{key:t.title,staticClass:"tabnav",class:{active:e.$route.path===t.path},on:{contextmenu:function(a){return a.preventDefault(),e.openMenu(t,a,s)}}},[a("router-link",{attrs:{to:t.path}},[e._v(e._s(t.title))]),e._v(" "),0!==s?a("i",{staticClass:"el-icon-error",on:{click:function(a){return e.removeTab(t)}}}):e._e()],1)}),0)],1),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:this.rightMenuShow,expression:"this.rightMenuShow"}],staticClass:"menuBox",style:{left:this.left+"px",top:this.top+"px"}},[a("li",{on:{click:function(t){return e.removeTab(e.$store.getters.rightNav)}}},[a("i",{staticClass:"fa fa-remove"}),e._v("close")]),e._v(" "),a("li",{on:{click:function(t){return e.removeOtherTab(e.$store.getters.rightNav)}}},[e._v("closeOther")]),e._v(" "),a("li",{on:{click:e.removeAllTab}},[e._v("CloseAll")])])])},staticRenderFns:[]};var D={name:"Header",components:{tabNav:a("VU/8")(C,k,!1,function(e){a("N0sP"),a("zWD9")},null,null).exports,langSelect:x},data:function(){return{isfullScreen:!0,avatar:"./static/favicon.png"}},methods:{collapse:function(){this.$store.dispatch("collapse")},fullScreen:function(){if(this.isfullScreen){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen(),this.isfullScreen=!1}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.isfullScreen=!0},handleCommand:function(e){"info"===e?this.$router.push({path:"/editUser?userId="+this.$store.getters.info.uid}):"logout"===e?(_.a.remove("access_token"),location.reload()):"editPassworld"===e&&this.$router.push({path:"/editPassworld"})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-header",{attrs:{id:"header"}},[a("span",{staticClass:"hideAside",on:{click:e.collapse}},[a("i",{staticClass:"fa fa-indent fa-lg"})]),e._v(" "),a("ul",{staticClass:"personal"},[a("li",{staticClass:"fullScreen",on:{click:e.fullScreen}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"fullScreen",placement:"bottom"}},[a("i",{staticClass:"fa fa-arrows-alt fa-lg"})])],1),e._v(" "),a("li",[a("langSelect")],1),e._v(" "),a("li",[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(this.$store.getters.token)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("logout")])],1)],1)],1),e._v(" "),a("li",{staticClass:"icon"},[a("img",{attrs:{src:e.avatar}})])])]),e._v(" "),a("tabNav")],1)},staticRenderFns:[]};var $={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v(this._s(this.$t("copyright")))])])},staticRenderFns:[]};var I={name:"dc-home",components:{layoutHeader:a("VU/8")(D,F,!1,function(e){a("dCl1")},null,null).exports,Bottom:a("VU/8")({name:"bottom"},$,!1,function(e){a("MoY6")},"data-v-0350a793",null).exports,layoutAside:g},mounted:function(){var e=this;window.onresize=function(){e.$store.commit("setHeight",document.documentElement.clientHeight)}},created:function(){}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"loyout"}},[t("el-container",[t("layoutAside"),this._v(" "),t("el-container",[t("layoutHeader"),this._v(" "),t("el-main",{attrs:{id:"elmain"}},[t("transition",{attrs:{name:"main",mode:"out-in"}},[t("router-view")],1)],1),this._v(" "),t("el-footer",{staticStyle:{height:"40px"}},[t("Bottom")],1)],1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(I,S,!1,function(e){a("QHK0"),a("AaQp")},null,null).exports,T=a("mvHQ"),N=a.n(T),R={name:"projectTable",components:{},created:function(){this.reloadProjectTable()},data:function(){return{resultHeight:this.$store.state.clientHeight-380,addPermit:!0,editPermit:!0,editFlag:!1,action:"view",activeNames:["1"],projectList:[],formData:{projectId:"",name:"",comments:""},currentRow:{projectId:"",name:"",comments:""},rules:{name:[{required:!0,message:"Please input project name.",trigger:"blur"},{min:3,max:100,message:"project name length should between 3 and 100.",trigger:"blur"}],comments:[{min:0,max:1024,message:"Comments length should less than 1024.",trigger:"blur"}]},formDisabled:!0}},methods:{reloadProjectTable:function(){var e=this;this.axios.get("/project").then(function(t){if(t.data,e.projectList=t.data.item||[],0===e.projectList.length)return e.formData=[],void(e.editPermit=!1);e.$refs.projectTable.setCurrentRow(e.projectList[0])}).catch(function(e){})},deleteRow:function(e,t){var a=this;this.$confirm("Are you sure to delete ?","Confirm",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){a.axios.delete("/project/"+t.projectId).then(function(t){t.data,a.$message({type:"success",message:"Delete project success!"}),a.projectList.splice(e,1),0===a.projectList.length&&(a.editPermit=!1),a.reloadProjectTable()}).catch(function(e){})}).catch(function(){})},handleChange:function(e){},handleCurrentChange:function(e){this.action="view",this.editPermit=!0,this.editFlag=!1,this.currentRow=e,this.formData=JSON.parse(N()(e))},onAdd:function(){this.editFlag=!0,this.action="new",this.$refs.form.resetFields(),this.formData.projectId="",this.formDisabled=!1},onEdit:function(){this.editFlag=!0,this.action="edit",this.formDisabled=!1},onSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;"new"===e.action?e.axios.post("/project",e.formData).then(function(t){if(t.data,0===t.data.resultCode)return e.$message({message:"Add project success.",type:"success"}),e.projectList.push(t.data.entity),void e.reloadProjectTable();e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){}):"edit"===e.action&&e.axios.put("/project",e.formData).then(function(t){if(t.data,0===t.data.resultCode)return e.$message({message:"Modify project success.",type:"success"}),void e.reloadProjectTable();e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){})})},onCancel:function(){this.editFlag=!1,this.action="view",this.formDisabled=!0,this.formData=JSON.parse(N()(this.currentRow))}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{"padding-bottom":"10px"},attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("Project Config")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-table",{ref:"projectTable",staticStyle:{width:"100%"},attrs:{data:e.projectList,stripe:"",border:"",size:"mini","max-height":e.resultHeight,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"name",label:"Name",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"comments",label:"Remarks",width:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("Delete")])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-divider")],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n          Detail\n        ")]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"auto",disabled:!e.editFlag,"hide-required-asterisk":""}},[a("el-col",{staticStyle:{display:"none"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"Project Id",prop:"id"}},[a("el-input",{model:{value:e.formData.projectId,callback:function(t){e.$set(e.formData,"projectId",t)},expression:"formData.projectId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Project Name",prop:"name",required:""}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Comments",prop:"comments"}},[a("el-input",{model:{value:e.formData.comments,callback:function(t){e.$set(e.formData,"comments",t)},expression:"formData.comments"}})],1)],1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",disabled:!e.addPermit,size:"mini"},on:{click:e.onAdd}},[e._v(e._s(e.$t("new")))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.editPermit,size:"mini"},on:{click:e.onEdit}},[e._v(e._s(e.$t("edit")))])],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.editFlag,expression:"editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("el.colorpicker.confirm")))]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.onCancel}},[e._v(e._s(e.$t("el.messagebox.cancel")))])],1)],2)],1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(R,E,!1,function(e){a("AarT")},"data-v-21f616b8",null).exports,M={name:"projectSelect",created:function(){this.getProjectData()},data:function(){return{project:{},projectData:[],value:""}},methods:{projectChange:function(e){this.$emit("projectChange",e)},getProjectData:function(){var e=this;this.axios.get("/project").then(function(t){e.projectData=t.data.item||[],0!==e.projectData.length&&(e.value=e.projectData[0].projectId,e.projectChange(e.projectData[0].projectId))}).catch(function(e){})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{attrs:{label:"Project"}},[a("el-select",{attrs:{placeholder:"Please select project",size:"mini"},on:{change:e.projectChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.projectData,function(e){return a("el-option",{key:e.projectId,attrs:{label:e.name,value:e.projectId}})}),1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(M,A,!1,function(e){a("v8kP")},"data-v-033cae41",null).exports,L={name:"serverTable",components:{projectSelect:z},created:function(){},data:function(){return{ipEditFlag:!1,masterData:[{label:"Yes",value:1},{label:"No",value:0}],valueFlag:!1,addPermit:!0,editPermit:!0,editFlag:!1,action:"view",activeNames:["1"],projectData:[],serverData:[],currentRow:{},formData:{hostDetailList:[],hostId:""},projectId:"",baseProperties:["hostIp","port","user","password","masterFlag","hostId","homeDir"],rules:{hostIp:[{validator:function(e,t,a){if(!t)return a(new Error("Host Ip cannot be empty."));/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/.test(t)?a():a(new Error("Invalid ip address."))},trigger:"blur"}],port:[{validator:function(e,t,a){if(!t)return a(new Error("Port cannot be null."));if(!/^\d{1,5}$/.test(t))return a(new Error("Please input a integer between range(1~65535)."));(t=Number(t))<0||t>65535?a(new Error("port should in range(1~65535).")):a()},trigger:"blur"}],user:[{required:!0,message:"This item is required.",trigger:"blur"}],password:[{required:!0,message:"This item is required.",trigger:"blur"}],masterFlag:[{required:!0,message:"This item is required.",trigger:"blur"}],homeDir:[{required:!0,message:"This item is required.",trigger:"blur"}]}}},methods:{handleClose:function(e){var t=this;this.$confirm("确定要提交表单吗？").then(function(a){t.loading=!0,setTimeout(function(){t.loading=!1,e()},2e3)}).catch(function(e){})},projectChange:function(e){this.projectId=e,this.currentRow={},this.formData={hostDetailList:[]},this.loadServerData(e)},loadServerData:function(e){var t=this;this.editFlag=!1,this.ipEditFlag=!1,this.action="view",this.axios.get("/host/project/"+e).then(function(e){if(t.serverData=e.data.item||[],0===t.serverData.length)return t.formData={projectId:"",hostId:"",hostDetailList:[]},t.$refs.serverForm.resetFields(),void(t.editPermit=!1);t.$refs.serverTable.setCurrentRow(t.serverData[0])}).catch(function(e){})},formatMasterFlag:function(e,t,a,s){return 1===a?"Yes":"No"},formatPassword:function(e,t,a,s){return"**********"},deleteRow:function(e,t){var a=this;this.$confirm("Are you sure to delete ?","Confirm",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){a.axios.delete("/host/"+t.hostId).then(function(e){e.data,a.$message({type:"success",message:"Delete server success!"}),a.loadServerData(a.projectId)}).catch(function(e){})}).catch(function(){})},deleteValueRow:function(e,t){t.splice(e,1)},showAdditionValue:function(e,t){this.valueFlag=!0},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleChange:function(e){},handleCurrentChange:function(e){this.$refs.serverForm.resetFields(),this.editPermit=!0,this.currentRow=e,this.formData=JSON.parse(N()(e)),this.action="view",this.editFlag=!1,this.formData&&this.formData.hostDetailList},onAdd:function(){this.action="new",this.ipEditFlag=!0,this.editFlag=!0,this.$refs.serverForm.resetFields(),this.formData={hostId:"",projectId:this.projectId,hostDetailList:[]}},onEdit:function(){this.ipEditFlag=!0,this.action="edit",this.editFlag=!0},onAddAdditionValue:function(){this.formData.hostDetailList||(this.formData.hostDetailList=[]),this.formData.hostDetailList.push({})},validateForm:function(e){if(0===e.length)return!0;var t=this.baseProperties,a=this,s=!0;return e.forEach(function(e,o){e.key&&e.value||(a.$message({message:"Please check the addtion value, the key and value is required.",type:"warning"}),s=!1),-1!==t.indexOf(e.key)&&(a.$message({message:"The addition value key name cannot be same with the base properties [hostIp, port, user, password, masterFlag, homeDir].",type:"warning"}),s=!1)}),s},onSubmit:function(){var e=this,t=this.formData.hostDetailList||[];this.validateForm(t)&&this.$refs.serverForm.validate(function(t){if(!t)return!1;if("new"===e.action){var a=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.axios.post("/host",e.formData).then(function(t){if(a.close(),0===t.data.resultCode)return e.$message({message:"Add server success.",type:"success"}),e.serverData.push(t.data.hostInfo),e.editFlag=!1,void e.loadServerData(e.projectId);e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){a.close()})}else if("edit"===e.action){var s=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.axios.put("/host",e.formData).then(function(t){if(s.close(),0===t.data.resultCode)return e.$message({message:"Modify server success.",type:"success"}),void e.loadServerData(e.projectId);e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){s.close()})}})},onCancel:function(){this.action="view",this.$refs.serverForm.resetFields(),this.editFlag=!1,this.ipEditFlag=!1,this.formData=JSON.parse(N()(this.currentRow||this.serverData[0]||{}))}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{"padding-bottom":"10px"},attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("Server Config")])],1),e._v(" "),a("el-col",{staticStyle:{height:"50px"},attrs:{span:12}},[a("projectSelect",{on:{projectChange:e.projectChange}})],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-table",{ref:"serverTable",attrs:{data:e.serverData,"max-height":"400",size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"hostIp",label:"HostIp"}}),e._v(" "),a("el-table-column",{attrs:{prop:"port",label:"port"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"user"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"password",formatter:e.formatPassword}}),e._v(" "),a("el-table-column",{attrs:{prop:"homeDir",label:"Home Directory"}}),e._v(" "),a("el-table-column",{attrs:{prop:"masterFlag",label:"Is Master",formatter:e.formatMasterFlag}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-divider")],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n          Detail\n        ")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"serverForm",attrs:{model:e.formData,"label-width":"auto",disabled:!e.editFlag,size:"mini",rules:e.rules}},[a("el-col",{staticStyle:{display:"none"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"Project Id",prop:"projectId"}},[a("el-input",{model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{span:12}},[a("el-form-item",{attrs:{label:"Host Id",prop:"hostId"}},[a("el-input",{model:{value:e.formData.hostId,callback:function(t){e.$set(e.formData,"hostId",t)},expression:"formData.hostId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Host IP",prop:"hostIp",disabled:e.editFlag&&e.ipEditFlag,required:""}},[a("el-input",{model:{value:e.formData.hostIp,callback:function(t){e.$set(e.formData,"hostIp",t)},expression:"formData.hostIp"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Port",prop:"port"}},[a("el-input",{model:{value:e.formData.port,callback:function(t){e.$set(e.formData,"port",t)},expression:"formData.port"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"user",prop:"user"}},[a("el-input",{model:{value:e.formData.user,callback:function(t){e.$set(e.formData,"user",t)},expression:"formData.user"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"password",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Home Directory",prop:"homeDir"}},[a("el-input",{model:{value:e.formData.homeDir,callback:function(t){e.$set(e.formData,"homeDir",t)},expression:"formData.homeDir"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Is Master",prop:"masterFlag"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.formData.masterFlag,callback:function(t){e.$set(e.formData,"masterFlag",t)},expression:"formData.masterFlag"}},e._l(e.masterData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"valueTable",staticStyle:{width:"100%"},attrs:{data:e.formData.hostDetailList,size:"mini","max-height":"200","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{prop:"key",label:"key"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:s.key,callback:function(t){e.$set(s,"key",t)},expression:"row.key"}})],1):a("span",[e._v(e._s(s.key))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-input",{attrs:{size:"mini",placeholder:"Please input the value."},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"row.value"}})],1):a("span",[e._v(e._s(s.value))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Action",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!e.editFlag,type:"text",size:"small",icon:"el-icon-close"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteValueRow(t.$index,e.formData.hostDetailList)}}})]}}])})],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"left","padding-top":"10px"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary",disabled:!e.editFlag,size:"mini"},on:{click:e.onAddAdditionValue}},[e._v("Add")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",disabled:!e.addPermit,size:"mini"},on:{click:e.onAdd}},[e._v(e._s(e.$t("new")))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.editPermit,size:"mini"},on:{click:e.onEdit}},[e._v(e._s(e.$t("edit")))])],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.editFlag,expression:"editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("el.colorpicker.confirm")))]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.onCancel}},[e._v(e._s(e.$t("el.messagebox.cancel")))])],1)],2)],1)],1)],1)},staticRenderFns:[]};var H=a("VU/8")(L,V,!1,function(e){a("RKYx")},"data-v-798caeda",null).exports,q={name:"fileTable",components:{projectSelect:z},created:function(){},data:function(){return{compareTypeData:[{label:"ignore",value:1},{label:"existed",value:2},{label:"notExisted",value:3},{label:"specific value",value:4}],typeMap:{1:{label:"ignore",value:1},2:{label:"existed",value:2},3:{label:"notExisted",value:3},4:{label:"specific value",value:4}},typeData:[{label:"Others",value:0},{label:"Properties",value:1},{label:"Ini",value:2}],serverData:[],hostInfoMap:{},valueFlag:!1,addPermit:!0,editPermit:!0,editFlag:!1,action:"view",activeNames:["1"],projectData:[],fileData:[],currentRow:{},formData:{specialValues:[],deltaFileInfos:[]},projectId:"",rules:{},hostData:[]}},methods:{loadServerData:function(e){var t=this;this.axios.get("/host/project/"+e).then(function(e){var a=e.data.item||[];t.serverData=a.map(function(e){return e.label=e.user+"@"+e.hostIp+":"+e.port,e}),t.serverData,t.hostInfoMap=t.tranHostList2Map(a)}).catch(function(e){})},projectChange:function(e){var t=this;this.projectId=e,this.loadServerData(e),this.loadFileData(e),this.axios.get("/host/4file/"+e).then(function(e){e.data;var a=e.data||[];if(0===a.length)return t.$message({type:"warning",message:"The server is not configured for the current project, please add server first."}),void(t.hostData=[]);a.map(function(e,a,s){e.label=t.camel2SingleWord(e.key)}),t.hostData=a}).catch(function(e){})},loadFileData:function(e){var t=this;this.editFlag=!1,this.axios.get("/file/project/"+e).then(function(e){if(t.fileData=e.data.item||[],0===t.fileData.length)return t.formData={specialValues:[],deltaFileInfos:[]},t.$refs.fileForm.resetFields(),void(t.editPermit=!1);t.$refs.fileTable.setCurrentRow(t.fileData[0])}).catch(function(e){})},onAddAdditionValue:function(){this.formData.specialValues||(this.formData.specialValues=[]),this.formData.specialValues.push({})},onAddDeltaFileInfo:function(){this.formData.deltaFileInfos||(this.formData.deltaFileInfos=[]),this.formData.deltaFileInfos.push({})},formatFileType:function(e,t,a,s){switch(a){case 1:return"properties";case 2:return"ini";default:return"others"}},deleteRow:function(e,t){var a=this;this.$confirm("Are you sure to delete ?","Confirm",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){a.axios.delete("/file/"+t.fileId).then(function(t){a.$message({type:"success",message:"Delete file success!"}),a.fileData.splice(e,1)}).catch(function(e){})}).catch(function(){})},deleteValueRow:function(e,t){t.splice(e,1)},deleteDeltaFileInfoRow:function(e,t){t.splice(e,1)},showAdditionValue:function(e,t){},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleChange:function(e){},handleCurrentChange:function(e){var t=this;this.currentRow=e,this.editPermit=!0,this.formData=JSON.parse(N()(e)),this.editFlag=!1;var a=this.formData.deltaFileInfos||[];a.length>0&&(this.formData.deltaFileInfos=a.filter(function(e){return e.hostInfo=t.hostInfoMap[e.hostId],t.hostInfoMap[e.hostId]}));var s=this.formData.specialValues||[];s.length>0&&(s.forEach(function(e){t.typeMap,e.typeInfo=t.typeMap[e.method]}),this.formData.specialValues=s),this.$refs.fileForm.resetFields()},tranHostList2Map:function(e){var t={};return e.forEach(function(e){t[e.hostId]=e}),t},onAdd:function(){this.editFlag=!0,this.action="new",this.$refs.fileForm.resetFields(),this.formData={fileId:"",projectId:this.projectId,specialValues:[],deltaFileInfos:[]}},onEdit:function(){this.editFlag=!0,this.action="edit"},validateForm:function(e){var t=e.deltaFileInfos||[],a=e.specialValues||[];if(0===t.length&&0===a.length)return!0;var s=this;if(t.some(function(e){return!e.hostId||!e.path}))return s.$message({message:"Please check the addition file info value, the hostId and path is required.",type:"warning"}),!1;var o=e.type;return 1!==o&&2!==o||!a.some(function(e){return 4!==e.method||e.value?1===o?(!e.key||!e.method)&&(s.$message({message:"The [key, method] is required.",type:"warning"}),!0):2===o&&(!(e.sectionName&&e.key&&e.method)&&(s.$message({message:"The [section, key, method] is required.",type:"warning"}),!0)):(s.$message({message:"When method is special value, The special value is not configured.",type:"warning"}),!0)})},onSubmit:function(){var e=this;this.validateForm(this.formData)&&this.$refs.fileForm.validate(function(t){if(!t)return!1;"new"===e.action?e.axios.post("/file",e.formData).then(function(t){if(0===t.data.resultCode)return e.$message({message:"Add FileInfo success.",type:"success"}),e.loadFileData(e.projectId),void e.$refs.btnGroup.setEditFlag(!1);e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){}):"edit"===e.action&&e.axios.put("/file",e.formData).then(function(t){if(0===t.data.resultCode)return e.$message({message:"Modify fileInfo success.",type:"success"}),void e.loadFileData(e.projectId);e.$message({message:t.data.errMsg,type:"warning"})}).catch(function(e){})})},onCancel:function(){var e=this;this.editFlag=!1,this.formData=JSON.parse(N()(this.currentRow));var t=this.formData.deltaFileInfos||[];t.length>0&&(this.formData.deltaFileInfos=t.filter(function(t){return t.hostInfo=e.hostInfoMap[t.hostId],e.hostInfoMap[t.hostId]}));var a=this.formData.specialValues||[];a.length>0&&(a.forEach(function(t){e.typeMap,t.typeInfo=e.typeMap[t.method]}),this.formData.specialValues=a),this.$refs.fileForm.resetFields()},camel2SingleWord:function(e){return e.replace(/([A-Z])/g," $1").toLowerCase()}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:15}},[a("el-col",{staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("File Config")])],1),e._v(" "),a("el-col",{staticStyle:{height:"50px"},attrs:{span:12}},[a("projectSelect",{on:{projectChange:e.projectChange}})],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-table",{ref:"fileTable",staticStyle:{width:"100%"},attrs:{data:e.fileData,"max-height":"400",size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"fileName",label:"File Name","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"File Type",formatter:e.formatFileType}}),e._v(" "),a("el-table-column",{attrs:{prop:"generalPath",label:"Default Path","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"comments",label:"Comments"}}),e._v(" "),a("el-table-column",{attrs:{label:"Action",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-divider")],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{staticClass:"collapse-title",attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("Detail")]),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"fileForm",attrs:{model:e.formData,"label-width":"auto",disabled:!e.editFlag,size:"mini",rules:e.rules}},[a("el-col",{staticStyle:{display:"none"},attrs:{span:24}},[a("el-form-item",{attrs:{label:"Project Id",prop:"projectId"}},[a("el-input",{model:{value:e.formData.projectId,callback:function(t){e.$set(e.formData,"projectId",t)},expression:"formData.projectId"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{span:24}},[a("el-form-item",{attrs:{label:"File Id",prop:"fileId"}},[a("el-input",{model:{value:e.formData.fileId,callback:function(t){e.$set(e.formData,"fileId",t)},expression:"formData.fileId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"File Name",prop:"fileName",required:""}},[a("el-input",{model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"File Type",prop:"type",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Default Path",prop:"generalPath",required:""}},[a("el-input",{model:{value:e.formData.generalPath,callback:function(t){e.$set(e.formData,"generalPath",t)},expression:"formData.generalPath"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Comments",prop:"comments"}},[a("el-input",{model:{value:e.formData.comments,callback:function(t){e.$set(e.formData,"comments",t)},expression:"formData.comments"}})],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"deltaFileInfo",staticStyle:{width:"100%"},attrs:{data:e.formData.deltaFileInfos,size:"mini","max-height":"250","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{prop:"hostId",label:"Host","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-select",{attrs:{placeholder:"",size:"mini"},on:{change:function(t){return e.hostChange()}},model:{value:s.hostId,callback:function(t){e.$set(s,"hostId",t)},expression:"row.hostId"}},e._l(e.serverData,function(e){return a("el-option",{key:e.hostId,attrs:{label:e.label,value:e.hostId}})}),1)],1):a("span",[e._v(e._s(s.hostInfo.user)+"@"+e._s(s.hostInfo.hostIp)+":"+e._s(s.hostInfo.port))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"path",label:"Path","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:s.path,callback:function(t){e.$set(s,"path",t)},expression:"row.path"}})],1):a("span",[e._v(e._s(s.path))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Action",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!e.editFlag,type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteDeltaFileInfoRow(t.$index,e.formData.deltaFileInfos)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"left","padding-top":"10px"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary",title:"Add Delta file info",disabled:!e.editFlag,size:"mini"},on:{click:e.onAddDeltaFileInfo}},[e._v("Add")])],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"valueTable",staticStyle:{width:"100%"},attrs:{data:e.formData.specialValues,size:"mini","max-height":"250","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{prop:"sectionName",label:"section","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:s.sectionName,callback:function(t){e.$set(s,"sectionName",t)},expression:"row.sectionName"}})],1):a("span",[e._v(e._s(s.sectionName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"key",label:"Key","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-input",{attrs:{size:"mini",placeholder:""},model:{value:s.key,callback:function(t){e.$set(s,"key",t)},expression:"row.key"}})],1):a("span",[e._v(e._s(s.key))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"Method",width:"80","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",size:"mini"},model:{value:s.method,callback:function(t){e.$set(s,"method",t)},expression:"row.method"}},e._l(e.compareTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):a("span",[e._v(e._s(s.typeInfo.label))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"Value","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[e.editFlag?a("span",[a("el-select",{attrs:{clearable:"",placeholder:"",size:"mini"},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"row.value"}},e._l(e.hostData,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})}),1)],1):a("span",[e._v(e._s(s.value))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Action",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:!e.editFlag,type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteValueRow(t.$index,e.formData.specialValues)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"left","padding-top":"10px"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary",disabled:!e.editFlag,size:"mini"},on:{click:e.onAddAdditionValue}},[e._v("Add")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",disabled:!e.addPermit,size:"mini"},on:{click:e.onAdd}},[e._v(e._s(e.$t("new")))]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.editPermit,size:"mini"},on:{click:e.onEdit}},[e._v(e._s(e.$t("edit")))])],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.editFlag,expression:"editFlag"}],staticClass:"js-btn-group",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("el.colorpicker.confirm")))]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.onCancel}},[e._v(e._s(e.$t("el.messagebox.cancel")))])],1)],2)],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(q,B,!1,function(e){a("M0zV")},"data-v-9d56ff92",null).exports,U={name:"mainIndex",components:{},mounted:function(){this.selfAdaption()},methods:{selfAdaption:function(){var e=this;setTimeout(function(){window.onresize=function(){e.$refs.echarts&&e.$refs.echarts.chart.resize()}},10)}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"card kjfs",staticStyle:{display:"none"}},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-th-large fa-lg"}),e._v("快捷方式\n        ")]),e._v(" "),a("ul",[a("li",[a("router-link",{staticClass:"kjfs kjfs-bluee",attrs:{to:"/addArticle"}},[a("span",[a("i",{staticClass:"el-icon-tickets fa-2x"})]),e._v(" "),a("span",[e._v("发表文章")])])],1),e._v(" "),a("li",[a("router-link",{staticClass:"kjfs kjfs-pinkk",attrs:{to:"/dragTabe"}},[a("span",[a("i",{staticClass:"fa fa-hand-stop-o fa-2x"})]),e._v(" "),a("span",[e._v("拖拽排序")])])],1),e._v(" "),a("li",[a("router-link",{staticClass:"kjfs kjfs-yelloww",attrs:{to:"/pagePermissions"}},[a("span",[a("i",{staticClass:"fa fa-universal-access fa-2x"})]),e._v(" "),a("span",[e._v("权限测试")])])],1)]),e._v(" "),a("ul",[a("li",[a("router-link",{staticClass:"kjfs kjfs-grennn",attrs:{to:"/upload"}},[a("span",[a("i",{staticClass:"fa fa-cloud-upload fa-2x"})]),e._v(" "),a("span",[e._v("文件上传")])])],1),e._v(" "),a("li",[a("router-link",{staticClass:"kjfs kjfs-purplee",attrs:{to:"/navClassifies"}},[a("span",[a("i",{staticClass:"fa el-icon-menu fa-2x"})]),e._v(" "),a("span",[e._v("前台菜单")])])],1),e._v(" "),a("li",[a("router-link",{staticClass:"kjfs kjfs-lightBluee",attrs:{to:"/markdown"}},[a("span",[a("i",{staticClass:"fa fa-file-code-o fa-2x"})]),e._v(" "),a("span",[e._v("编辑器")])])],1)])])]),e._v(" "),a("el-col",{staticStyle:{display:"none"},attrs:{span:8}},[a("div",{staticClass:"card dbsx"},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-file-text-o"}),e._v("待办事项\n        ")]),e._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"#"}},[a("span",[e._v("待审评论")]),e._v(" "),a("span",{staticClass:"num"},[e._v("66")])])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"#"}},[a("span",[e._v("待审帖子")]),e._v(" "),a("span",{staticClass:"num"},[e._v("66")])])],1)]),e._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"#"}},[a("span",[e._v("待审商品")]),e._v(" "),a("span",{staticClass:"num"},[e._v("66")])])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"#"}},[a("span",[e._v("代发货")]),e._v(" "),a("span",{staticClass:"num"},[e._v("66")])])],1)])])]),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:24}},[a("div",{staticClass:"card bbxx"},[a("p",{staticClass:"title"},[a("i",{staticClass:"fa fa-server"}),e._v("版本信息\n        ")]),e._v(" "),a("div",{staticClass:"table"},[a("p",[a("span",{staticClass:"tit"},[e._v("当前版本")]),e._v("v1.0.0\n          ")]),e._v(" "),a("p",[a("span",{staticClass:"tit"},[e._v("基于框架")]),e._v("vue2.0全家桶 + element-ui + Springboot\n          ")])])])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"bbxx",staticStyle:{"text-align":"left"}},[a("h3",[e._v("页面操作")]),e._v(" "),a("p",[e._v("分为四个页面，project config（项目配置）,server config(服务器配置)，file config（文件配置），file compare（文件对比同步）")]),e._v(" "),a("br"),e._v(" "),a("h4",[e._v("project config 为项目配置页面，可以对项目进行增删改查操作")]),e._v(" "),a("br"),e._v(" "),a("h4",[e._v("server config 为服务器配置页面")]),e._v(" "),a("p",[e._v("\n          一个项目可以对应多个服务器，首先上部下拉框选择项目，然后进行服务器配置的相关操作，可以分别配置基本属性（地址，端口，用户，密码，是否为基准主机），\n          "),a("br"),e._v("服务器ip需要满足对应ip地址规则，端口范围1-65535，修改或者新增服务器配置提交，后台会对尝试以当前配置的ip端口，用户名密码登录对应服务器，\n          "),a("br"),e._v("如果登录失败，前台弹出提示，需要配置正确能成功登录服务器方允许提交，新增服务器信息自定义配置，每个项目需要指定一台机器作为主机，其他机器\n          "),a("br"),e._v("同一个项目下，一个ip地址只允许添加一次\n          "),a("br"),e._v("以此机器上的文件作为基准进行对比，一个项目只允许指定一台主机\n          "),a("br"),e._v("表单右边的表格可以配置服务器的附加属性，比如databaseIp，127.0.0.1,则配置key为databaseIp，值为127.0.0.1，此属性的key不能跟基本属性冲突\n          "),a("br"),e._v("同一个key只能配置一次\n        ")]),e._v(" "),a("p",[a("br")]),e._v(" "),a("h4",[e._v("file config 为文件配置，即给服务器添加需要对比或者同步的文件；参数解释：")]),e._v(" "),a("ul",[a("li",[e._v("is directory：是否为文件夹；")]),e._v(" "),a("li",[e._v("default path：文件所在目标服务器的默认路径，中间表格可以对单独的服务器配置路径，未配置的服务器则按照此默认路径查找文件")]),e._v(" "),a("li",[e._v("File type 文件类型，仅在文件下有效，三种类型，properties键值对，ini文件，其他类型（作为普通文本）")]),e._v(" "),a("li",[e._v("中间表格为附加文件信息，用于在服务器文件路径跟默认路径不配置情况下，单独配置路径，选定服务器，然后输入当前对比文件的路径即可\n          ")]),a("li",[e._v("右边表格配置ini和properties文件具体属性的对比规则，配置文件跟当前主机相关，比如配置了当前主机的端口，ip等参数，(在右下表格Replace valueMap进行配置)")]),e._v(" "),a("li",[e._v("对于properties键值对文件，需要配置key，mehod，value三个字段，key为键，\n          ")]),a("li",[e._v("mehod为对比规则（1.ignore忽略改属性，2.existed目标主机该属性存在即可,3.notExisted 目标主机该属性不应存在4.指定值，该属性为指定值，需要同时配置value属性，用于指定服务器的某个属性值）；")]),e._v(" "),a("li",[e._v("对于ini文件，相比properties文件，需要多配置一个section的值，其余同properties文件配置。")])]),e._v(" "),a("br"),e._v(" "),a("h4",[e._v("file commpare 文件收集，对比，同步页面。左侧窗口分为左右两栏，左边为操作区域，右边为对比结果展示区域。")]),e._v(" "),a("ul",[a("li",[e._v("1.首先选择项目，下边自动展示项目下的服务器列表，")]),e._v(" "),a("li",[e._v("2.勾选指定服务器，点击collect按钮，完成对文件的收集工作，收集的文件自动添加在服务器所在节点，")]),e._v(" "),a("li",[e._v(" (文件收集基于项目，选择项目后才能收集文件到本地；此操作由于网络通信，文件IO，收集文件可能需要耗费较多时间)")]),e._v(" "),a("li",[e._v("3.勾选需要对比的文件，点击compare按钮，即可完成文件的对比，(文件对比基于文件，选取对应文件进行对比，选取项目或者服务器则默认选取子文件节点进行对比)")]),e._v(" "),a("li",[e._v("4.同时也可点击compare进行单个文件对比，")]),e._v(" "),a("li",[e._v("5.点击对应的文件节点即可在右侧展示对应的对比结果，不一致的地方会有红色标记，")]),e._v(" "),a("li",[e._v("6.勾选对应的文件节点，点击Sync按钮可以完成同步文件到目标服务器的操作，此步操作会同时完成valuemap中对应字段的值的替换，同时对服务器目标文件进行备份（对于单个文件，在文件所在文件夹内生成'文件名_当前时间字符串.bak'文件；对于文件夹，则备份整个文件夹，tar打包为'文件夹名_当前时间字符串.tar.gz'）, 再把本地文件推送过去。")]),e._v(" "),a("li",[e._v(" (文件同步操作同样需要网络通信，IO操作，可能耗时较长)\n          ")]),a("li",[e._v("7.文件推送同样基于文件，也可点击文件节点后的sync按钮对单个文件进行同步，")]),e._v(" "),a("li",[e._v("8.推送完成后，可以再进行一次文件收集，对比，检查配置文件是否已经同步完成。")]),e._v(" "),a("li",[e._v("9.报表下载，点击report按钮即可获取对比结果的报表，生成csv文件（获取当前已经对比过的文件的对比结果）")])]),e._v(" "),a("br")])])],1)],1)},staticRenderFns:[]};var W=a("VU/8")(U,Q,!1,function(e){a("eimB")},"data-v-5223279c",null).exports,K={data:function(){return{resultHeight:this.$store.state.clientHeight-225,iniColumns:[{label:"Section",prop:"sectionName"}],propertiesColumns:[{label:"Key",prop:"name"},{label:"Status",prop:"status",width:80},{label:"Method",prop:"method",width:80},{label:"sourceValue",prop:"sourceValue"},{label:"targetValue",prop:"targetValue"}],textFileName:"",regularColumns:[],fileFlag:!1,dirFlag:!1,compareResult:[],treeData:[],dialogTableVisible:!1,textCompareResult:[],textCompareResult1:[],html:"",data:[],defaultProps:{children:"children",label:"label"},textDiffValue:0,treeStyle:{height:this.$store.state.clientHeight-215+"px"}}},created:function(){this.loadTreeData()},methods:{filterHandler:function(e,t,a){return t[a.property]===e},filterStatus:function(e,t,a){return t[a.property]===e},textDiffChange:function(e){this.textCompareResult1="1"!==e?this.textCompareResult:this.textCompareResult.filter(function(e){return"EQUAL"!==e.tag})},collectFile:function(){var e=this,t=this.getCheckedNodes(),a=[];t.forEach(function(e){e.name&&a.push(e.projectId)});var s=t.filter(function(e){return e.name});if(s&&0!==s.length){var o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.post("/collect/project",s).then(function(t){o.close(),e.$message({type:"success",message:"Collect file complete, show the file by click the host node."}),e.loadTreeData()}).catch(function(e){})}else this.$message({type:"info",message:"No data selected, please select a node first."})},syncSingleFile:function(e,t){var a=this,s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get("/sync/file/"+t.id).then(function(e){s.close(),e.data;var t=e.data||{};0!==t.resultCode?a.$message({type:"warning",message:t.errMsg}):a.$message({type:"success",message:"Sync file to target server success."})}).catch(function(e){s.close()})},compareSingleFile:function(e,t){var a=this,s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get("/compare/execute/file/"+t.id).then(function(e){s.close(),e.data;var o=e.data||{};if(0===o.resultCode)return a.displayCompareResult(o,t.fileName),void a.$message({type:"success",message:"Compare file complete."});a.$message({type:"warning",message:o.errMsg})}).catch(function(e){s.close()})},syncFile:function(){var e=this,t=this.getCheckedNodes(),a=[];t.forEach(function(e){e.name&&a.push(e.projectId)});var s=t.filter(function(e){return e.name});if(s&&0!==s.length){var o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.post("/compare/sync",s).then(function(t){o.close(),e.$message({type:"success",message:"Sync file complete."})}).catch(function(e){o.close()})}else this.$message({type:"info",message:"Please select the file."})},syncFile1:function(){var e=this,t=[];if(this.getCheckedNodes().forEach(function(e){e.fileId&&t.push(e.id)}),t&&0!==t.length){var a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.post("/sync/files",t).then(function(t){a.close(),t.data,e.$message({type:"success",message:"Sync file complete."})}).catch(function(e){a.close()})}else this.$message({type:"info",message:"No data selected, please select a node first."})},downloadReport:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.get("/compare/report").then(function(a){t.close(),0!==a.data.resultCode?e.$message({type:"success",message:a.data.errMsg}):window.location="/download/file/"+a.data.filePath}).catch(function(e){t.close()})},compareFile:function(){var e=this,t=this.getCheckedNodes(),a=[];if(t.forEach(function(e){e.fileId&&a.push(e.id)}),a&&0!==a.length){var s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.axios.post("/compare/execute/file",a).then(function(t){s.close(),e.$message({type:"success",message:"Compare file complete.Show the result by click the file node."})}).catch(function(t){s.close(),e.$message({type:"warn",message:"Compare file Failed.Please refer to the log."})})}else this.$message({type:"info",message:"No data selected, please select a node first."})},getCheckedNodes:function(){return this.$refs.tree.getCheckedNodes(!1,!1)},getCheckedKeys:function(){this.$refs.tree.getCheckedKeys()},formatStatus:function(e,t,a,s){return"EQUAL"===a?'<span class="">'+a+"</span>":'<span class="" style="color: red">'+a+"</span>"},loadProjectData:function(){var e=this;this.axios.get("/project").then(function(t){e.treeData=t.data.item||[],0!==e.treeData.length&&e.treeData.forEach(function(e){e.id=e.projectId,e.leaf=!1,e.label=e.name})}).catch(function(e){})},loadTreeData:function(){var e=this;this.axios.get("/collect/all").then(function(t){t.data;var a=t.data,s=a.file||[],o=a.host||[],n=a.project||[];n.forEach(function(e){e.id=e.projectId,e.label=e.name,e.children||(e.children=[]),o.forEach(function(t){t.children||(t.children=[]),s.forEach(function(e){e.fileId===t.hostId&&(e.label=e.fileName,t.children.push(e))}),0===t.masterFlag&&t.projectId===e.projectId&&(t.id=t.hostId,t.label=t.user+"@"+t.hostIp+":"+t.port,e.children.push(t))})}),e.treeData=n||[]}).catch(function(e){})},load:function(e,t,a){e.hostId&&e.projectId?this.axios.get("/file/project/"+e.projectId).then(function(e){var t=e.data.item||[];0!==t.length&&(t.forEach(function(e){e.id=e.fileId;var t=e.target.lastIndexOf("/");e.name=e.target.substring(t+1)}),a(t))}).catch(function(e){}):e.projectId&&this.axios.get("/host/project/"+e.projectId).then(function(e){var t=e.data.item||[];0!==t.length&&(t.forEach(function(e){e.id=e.hostId,e.hasChildren=!0,e.name=e.user+"@"+e.hostIp+":"+e.port}),a(t))}).catch(function(e){})},displayCompareResult:function(e,t){if(-1!==e.resultCode)if(this.textFileName=t,0===e.type){var a=e.result||[];this.textDiffValue=0,this.dialogTableVisible=!0,this.textCompareResult=a,this.textCompareResult1=a,this.$refs.textResultTable.clearFilter()}else 1===e.type?(this.regularColumns=[],this.compareResult=e.result,this.fileFlag=!0,this.$refs.fileResultTable.clearFilter()):2===e.type&&(this.regularColumns=this.iniColumns,this.compareResult=e.result,this.fileFlag=!0,this.regularFlag=!0,this.$refs.fileResultTable.clearFilter());else this.$message({type:"warning",message:e.errMsg})},handleNodeClick:function(e){var t=this;this.fileFlag=!1,this.dirFlag=!1,e.fileId&&this.axios.get("/compare/result1/"+e.id).then(function(a){a.data;var s=a.data;s||t.$message({type:"info",message:"No data display, please compare the file first."}),t.displayCompareResult(s,e.fileName)}).catch(function(e){})},loadNode:function(e,t){var a=e.data.projectId||"";if(a)if(1===e.level)this.axios.get("/host/project/"+a).then(function(e){var s=e.data.item||[];0!==s.length&&(s=s.filter(function(e){return e.id=e.hostId,e.projectId=a,e.label=e.user+"@"+e.hostIp+":"+e.port,e.leaf=!1,!e.masterFlag}),t(s))}).catch(function(e){});else if(2===e.level){var s=e.data.hostId;this.axios.get("/collect/"+a+"/"+s).then(function(e){var a=e.data||[];0!==a.length&&(a.forEach(function(e){e.hasChildren=!1,e.label=e.fileName}),t(a))}).catch(function(e){})}else t([])}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-col",{staticStyle:{"padding-bottom":"10px"},attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.collectFile}},[e._v("Collect")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.compareFile}},[e._v("Compare")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.syncFile1}},[e._v("Sync")]),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-download"},on:{click:e.downloadReport}},[e._v("Report")])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-scrollbar",{style:e.treeStyle},[a("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"node-key":"id","default-expand-all":"",load:e.loadNode,lazy:"","show-checkbox":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,o=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{attrs:{title:o.remotePath}},[e._v("\n                "+e._s(s.label)+"\n              ")]),e._v(" "),a("span",[3===s.level?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.compareSingleFile(s,o)}}},[e._v("\n                  Compare\n                ")]):e._e(),e._v(" "),3===s.level?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.syncSingleFile(s,o)}}},[e._v("\n                  Sync\n                ")]):e._e()],1)])}}])})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:17}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.fileFlag,expression:"fileFlag"}],attrs:{span:24}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.textFileName))])],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.fileFlag,expression:"fileFlag"}],ref:"fileResultTable",staticStyle:{width:"100%"},attrs:{data:e.compareResult,stripe:"",border:"",size:"mini","max-height":e.resultHeight,"highlight-current-row":""}},[e._l(e.regularColumns,function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":""}})}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Name","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"Status",width:"80",filters:[{text:"True",value:0},{text:"False",value:-1}],"filter-method":e.filterStatus},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("True")]):a("span",{staticStyle:{color:"red"}},[e._v("False")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"Method",width:"80","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceValue",label:"sourceValue","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetValue",label:"targetValue","show-overflow-tooltip":""}})],2)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.textFileName,visible:e.dialogTableVisible,width:"70%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{ref:"textResultTable",attrs:{data:e.textCompareResult1,"max-height":"400",stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"tag",label:"status",width:"80",filters:[{text:"INSERT",value:"INSERT"},{text:"DELETE",value:"DELETE"},{text:"CHANGE",value:"CHANGE"},{text:"EQUAL",value:"EQUAL"}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return["EQUAL"==t.row.tag?a("span",[e._v("EQUAL")]):a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.tag))])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"oldLine",label:"source"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.oldLine)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"newLine",label:"target"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.newLine)}})]}}])})],1)],1)],1)},staticRenderFns:[]};var J=a("VU/8")(K,Y,!1,function(e){a("f/k5")},null,null).exports;s.default.use(p.a);var G=p.a.prototype.push;p.a.prototype.push=function(e){return G.call(this,e).catch(function(e){return e})};var X=new p.a({routes:[{path:"/",redirect:"/index",hidden:!0,children:[]},{path:"/404",component:function(){return a.e(0).then(a.bind(null,"0xTz"))},name:"404",hidden:!0,children:[]},{path:"/index",iconCls:"fa fa-dashboard",name:"Main",component:j,alone:!0,children:[{path:"/index",iconCls:"fa fa-dashboard",name:"Home",component:W,children:[]}]},{path:"/",name:"layout",component:j,children:[{path:"/project",name:"project",component:P},{path:"/server",name:"server",component:H},{path:"/file",name:"file",component:O}]},{path:"/compare",iconCls:"fa fa-dashboard",name:"Main",component:j,alone:!0,children:[{path:"/compare",iconCls:"fa fa-dashboard",name:"compare",component:J,children:[]}]},{path:"/login",component:h,name:"",hidden:!0,children:[]}]}),Z=a("//Fk"),ee=a.n(Z),te=a("NYxO"),ae={state:{info:""},mutations:{getInfo:function(e,t){e.info={role:"superAdmin",permissions:"超级管理员"},sessionStorage.setItem("info",N()(oe.getters.info))},setRole:function(e,t){e.info={role:t.role,permissions:t.permissions},sessionStorage.setItem("info",N()(oe.getters.info)),oe.dispatch("newRoutes",t.role),X.addRoutes(oe.getters.addRouters)}},actions:{getInfo:function(e,t){(0,e.commit)("getInfo",t)},setRole:function(e,t){(0,e.commit)("setRole",t)}}},se={state:{isCollapse:!1,logoShow:!1,uniquerouter:!0,rightNav:{},tabnavBox:[{title:"home",path:"/index"}]},mutations:{addTab:function(e,t){e.isActive=t.path,e.tabnavBox;for(var a=0;a<e.tabnavBox.length;a++)if(e.tabnavBox[a].path===t.path)return!1;e.tabnavBox.push({title:t.title,path:t.path})},openMenu:function(e,t){e.rightNav=t},removeTab:function(e,t){var a=e.tabnavBox.findIndex(function(e,a){return e.path===t.tabItem.path});if(e.tabnavBox.splice(a,1),t.tabItem.path===t.fullPath){var s=e.tabnavBox[a]||e.tabnavBox[a-1];t.router.push(s.path)}},removeOtherTab:function(e,t){if(e.tabnavBox=[{title:"home",path:"/index"}],t.all)return t.router.push("/index"),!1;e.tabnavBox.push(t.tabItem),t.router.push(t.tabItem.path)},collapse:function(e,t){e.isCollapse=!e.isCollapse,e.logoShow?setTimeout(function(){e.logoShow=!1},300):e.logoShow=!0}},actions:{addTab:function(e,t){(0,e.commit)("addTab",t)},openMenu:function(e,t){(0,e.commit)("openMenu",t)},removeTab:function(e,t){(0,e.commit)("removeTab",t)},removeOtherTab:function(e,t){(0,e.commit)("removeOtherTab",t)},collapse:function(e,t){(0,e.commit)("collapse",t)}}};s.default.use(te.a);var oe=new te.a.Store({state:{token:_.a.get("access_token"),clientHeight:document.documentElement.clientHeight},mutations:{setToken:function(e,t){e.token=t,_.a.set("access_token",t,{expires:7})},setHeight:function(e,t){e.clientHeight=t}},actions:{setToken:function(e,t){var a=e.commit;return new ee.a(function(e,s){a("setToken",t),e()})},setHeight:function(e,t){var a=e.commit;return new ee.a(function(e,s){a("setHeight",t),e()})}},getters:{token:function(e){return e.token},info:function(e){return e.role.info},clientHeight:function(e){return e.clientHeight},logoShow:function(e){return e.layout.logoShow},isCollapse:function(e){return e.layout.isCollapse},uniquerouter:function(e){return e.layout.uniquerouter},tabnavBox:function(e){return e.layout.tabnavBox},visible:function(e){return e.layout.visible},left:function(e){return e.layout.left},top:function(e){return e.layout.top},rightNav:function(e){return e.layout.rightNav}},modules:{role:ae,layout:se}}),ne=a("urW8"),ie=a.n(ne),le=a("TXmL"),re=a("Dd8w"),ce=a.n(re),ue=a("wUZ8"),de=a.n(ue),pe=ce()({login:{disasterRecovery:"Disaster Recovery Config File Sync Tool",frontEnd:"FrontEnd",backEnd:"BackEnd",signIn:"Sign In",forgotPassword:"If forgot Password, please contact the Administrator."},menu:{home:"Home",baseConfig:"Base Config",projectConfig:"Project Config",hostConfig:"Host Config",fileConfig:"File Config",fileCompare:"File Compare"},yes:"Yes",no:"No",new:"New",edit:"Edit",delete:"Delete",copyright:"© 2003-2019 Whale Cloud Technology Co., Ltd. All Rights Reserved",routeNmae:{home:"home",article:"article",publishArticle:"publishArticle",publishArticleEditor:"publishArticle",articleList:"articleList",addUser:"addUser",editUser:"editUser",userList:"userList",commentList:"commentList",userManage:"userManage",editPassworld:"editPassworld",editor:"editor",markdown:"markdown",wangeditor:"wangeditor",systemSettings:"systemSettings",navMenu:"navMenu",systemManage:"systemManage",organizeManage:"organizeManage",unitManage:"unitManage",personnelManage:"personnelManage",roleManage:"roleManage",systemSetting:"systemSetting"},rightMenu:{close:"close",closeOther:"closeOther",closeAll:"closeAll"},role:{superAdmin:"superAdmin",admin:"admin",ordinary:"ordinary"},userDropdownMenu:{basicInfor:"basicInfor",changePassword:"changePassword",logout:"logout"}},de.a),fe=a("Vi3T"),me=a.n(fe),he={en:pe,cn:ce()({login:{disasterRecovery:"容灾配置文件同步工具",frontEnd:"前端",backEnd:"后端",signIn:"登录",forgotPassword:"如果忘记密码，请联系管理员"},menu:{home:"主页",baseConfig:"基本信息配置",projectConfig:"项目配置",hostConfig:"服务器配置",fileConfig:"文件配置",fileCompare:"文件对比"},yes:"是",no:"否",new:"新增",edit:"编辑",delete:"删除",copyright:"© 2003-2019 浩鲸云计算科技股份有限公司 版权所有 | All Rights Reserved ",routeNmae:{home:"主页",article:"文章管理",publishArticle:"发表文章",publishArticleEditor:"发表文章-富文本",articleList:"文章列表",commentList:"评论列表",userManage:"用户管理",addUser:"添加账号",editUser:"修改资料",userList:"用户列表",editPassworld:"修改密码",editor:"编辑器",markdown:"markdown",wangeditor:"wangeditor",systemSettings:"系统设置",navMenu:"导航菜单",systemManage:"系统管理",organizeManage:"组织权限管理",unitManage:"单位管理",personnelManage:"部门人员管理",roleManage:"角色管理",systemSetting:"系统配置项"},rightMenu:{close:"关闭",closeOther:"关闭其他",closeAll:"全部关闭"},role:{superAdmin:"超级管理员",admin:"管理员",ordinary:"普通用户"},userDropdownMenu:{basicInfor:"基本资料",changePassword:"修改密码",logout:"退出"}},me.a)};s.default.use(le.a);var ve=new le.a({locale:localStorage.lang||"cn",messages:he});ie.a.i18n(function(e,t){return ve.t(e,t)});var ge=ve;a("tvR6"),a("5W1q");s.default.config.productionTip=!1,s.default.use(c.a),s.default.config.productionTip=!1,s.default.use(l.a,n.a),X.beforeEach(function(e,t,a){if(oe.getters.token&&"undefined"!==oe.getters.token)if("/login"===e.path)a({path:"/"});else if(oe.getters.info){if(e.matched.some(function(e){if(e.meta.role)return-1===oe.getters.info.authorityRouter}))return a({path:"/404"}),!1;a()}else oe.dispatch("getInfo",oe.getters.token),a({path:"/index"});else"/login"===e.path&&a(),a({path:"/login"})}),new s.default({el:"#app",i18n:ge,router:X,store:oe,render:function(e){return e(d)},components:{App:d},template:"<App/>"})},QHK0:function(e,t){},RKYx:function(e,t){},bjAV:function(e,t){},dCl1:function(e,t){},eimB:function(e,t){},"f/k5":function(e,t){},tvR6:function(e,t){},v8kP:function(e,t){},w5po:function(e,t){},zWD9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3d278bb49d5681d6e804.js.map